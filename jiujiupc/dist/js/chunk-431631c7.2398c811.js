(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-431631c7"],{"0479":function(t,s,i){t.exports=i.p+"img/share3.891c59e3.svg"},1187:function(t,s,i){t.exports=i.p+"img/packdown.78a5d656.svg"},1710:function(t,s,i){"use strict";var n=i("a849"),e=i.n(n);e.a},"182f":function(t,s,i){t.exports=i.p+"img/hidden.c965ed5c.svg"},"339e":function(t,s,i){t.exports=i.p+"img/music.e4304f3f.svg"},3811:function(t,s,i){t.exports=i.p+"img/add3.d5a0f691.svg"},"38a9":function(t,s,i){},"51d7":function(t,s,i){},"613b":function(t,s,i){t.exports=i.p+"img/addsong4.b09d884f.svg"},6369:function(t,s,i){t.exports=i.p+"img/download.2d970504.svg"},"6af4":function(t,s,i){t.exports=i.p+"img/add2.bea46aa4.svg"},"79e3":function(t,s,i){"use strict";var n=i("38a9"),e=i.n(n);e.a},"7e92":function(t,s,i){t.exports=i.p+"img/news.11b6a6bd.svg"},"8e8c":function(t,s,i){},9316:function(t,s,i){"use strict";var n=i("51d7"),e=i.n(n);e.a},"98c2":function(t,s,i){t.exports=i.p+"img/packup.7c7b2320.svg"},a021:function(t,s,i){"use strict";i.r(s);var n=function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"songdetailpage"},[t.song?n("div",{staticClass:"songdetailleft"},[n("Title",{attrs:{psong:t.song,pcomment:t.songcomment.total,pLyric:t.currentLyric},on:{"translate-song":function(s){return t.$emit("translate-song",s)}}}),n("Contentitle",[t._v(t._s(t.songcomment.total))]),t._m(0),n("div",{staticClass:"hotcommentitle"},[t._v("精彩评论")]),t._l(t.songcomment.hotComments,(function(t,s){return n("Contentlli",{key:s,attrs:{item:t}})})),n("div",{staticClass:"hotcommentitle"},[t._v("最新评论")]),t._l(t.songcomment.comments,(function(t,s){return n("Contentlli",{key:"two-"+s,attrs:{item:t}})}))],2):t._e(),n("div",{staticClass:"songdetailright"},[n("div",{staticClass:"top"},[t._v("相似歌曲")]),n("ul",{staticClass:"simisonglist"},t._l(t.simisonglist,(function(s,e){return n("li",{key:"simi-"+e,attrs:{item:s}},[n("div",{staticClass:"rli-left"},[n("h2",[t._v(t._s(s.name))]),n("p",[t._v(t._s(s.artists[0].name))])]),n("div",{staticClass:"rli-mid"},[n("img",{attrs:{src:i("182f")},on:{click:function(i){return i.stopPropagation(),t.$emit("translate-song",s.id)}}})]),t._m(1,!0)])})),0),n("div",{staticClass:"top"},[t._v("玖玖音乐多端下载")]),n("div",{staticClass:"ri-bot"}),n("p",{staticClass:"lastp"},[t._v("同步歌单，随时畅听320k好音乐")])])])},e=[function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"usercomment"},[n("img",{staticClass:"userheader",attrs:{src:i("8c58")}}),n("div",{staticClass:"usercommentright"},[n("textarea",{attrs:{cols:"30",rows:"10",placeholder:"评论"}}),n("div",{staticClass:"rightbot"},[n("img",{attrs:{src:i("ef15"),alt:""}}),n("img",{attrs:{src:i("d636"),alt:""}}),n("button",[t._v("评论")])])])])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"rli-right"},[n("img",{attrs:{src:i("3811"),alt:""}})])}],a=function(){var t=this,s=t.$createElement,n=t._self._c||s;return t.song.al?n("div",{staticClass:"songdetailtoppage"},[n("div",{staticClass:"left"},[n("img",{staticClass:"picurl",attrs:{src:t.song.al.picUrl}}),n("div",{staticClass:"mask"}),t._m(0)]),n("div",{staticClass:"right"},[n("h2",[n("span",[t._v("单曲")]),t._v(" "+t._s(t.song.name)+" ")]),t.song.ar?n("div",{staticClass:"creator"},[t._v(" 歌手: "),n("span",[t._v(t._s(t.song.ar[0].name))])]):t._e(),n("div",{staticClass:"creator"},[t._v(" 所属专辑 "),n("span",[t._v(t._s(t.song.al.name))])]),n("div",{staticClass:"toprightbot"},[n("span",{staticClass:"onespan",on:{click:function(s){return s.target!==s.currentTarget?null:t.$emit("translate-song",t.song.id)}}},[n("img",{attrs:{src:i("46a5")}}),t._v(" 播放 ")]),t._m(1),n("el-button",{attrs:{type:"text"}},[n("img",{attrs:{src:i("613b")}}),n("span",[t._v("收藏")])]),n("el-button",{attrs:{type:"text"}},[n("img",{attrs:{src:i("0479")}}),n("span",[t._v("分享")])]),n("el-button",{attrs:{type:"text"}},[n("img",{attrs:{src:i("6369")}}),n("span",[t._v("下载")])]),n("el-button",{attrs:{type:"text"}},[n("img",{attrs:{src:i("7e92")}}),n("span",[t._v("("+t._s(t.changecount(t.comment))+")")])])],1),n("div",{staticClass:"Lyric"},[n("ul",{class:{show:t.showhidden}},t._l(t.parsedLyric,(function(s,i){return n("li",{key:i},[t._v(t._s(s.text))])})),0),n("div",{staticClass:"more"},[t.showhidden?t._e():n("div",{staticClass:"packup",on:{click:function(s){t.showhidden=!0}}},[t._v(" 收起 "),n("img",{attrs:{src:i("98c2")}})]),t.showhidden?n("div",{staticClass:"packdown",on:{click:function(s){t.showhidden=!1}}},[t._v(" 展开 "),n("img",{attrs:{src:i("1187")}})]):t._e()])])])]):t._e()},o=[function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"link"},[n("img",{attrs:{src:i("339e"),alt:""}}),t._v(" 生成外部链接 ")])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("span",{staticClass:"onespan twospan"},[n("img",{attrs:{src:i("6af4")}})])}],c=(i("d81d"),i("a9e3"),i("b680"),i("ac1f"),i("466d"),i("5319"),i("841c"),i("1276"),{props:{psong:Object,pcomment:Number,pLyric:String},data:function(){return{showhidden:!0}},methods:{processlyric:function(t){var s=t;return void 0!=t&&(s=t.replace(/\[.*:.*\]/,"")),s},changecount:function(t){return t>1e4?(t/1e4).toFixed(0)+"万":t}},computed:{parsedLyric:function(){return this.Lyric?this.Lyric.split("\n").map((function(t){var s=/\d{2}:\d{2}\.\d+/i;if(-1!==t.search(s)){var i=t.match(s)[0],n=i.substr(0,2),e=i.substr(3,2),a=i.substr(5);return{time:60*Number(n)+Number(e)+Number(a),text:t.substr(11)||"---------"}}return{}})):[{time:0,text:"暂时没有歌词"}]},song:function(){return this.psong},comment:function(){return this.pcomment},Lyric:function(){return this.pLyric}}}),r=c,l=(i("1710"),i("2877")),g=Object(l["a"])(r,a,o,!1,null,"c14df8e8",null),m=g.exports,u=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"songdetailcontentitlevue"},[t._v(" 评论 "),i("span",[t._v(" 共 "),t._t("default"),t._v("条评论 ")],2)])},d=[],v={},f=v,p=(i("9316"),Object(l["a"])(f,u,d,!1,null,"0c8af8a6",null)),h=p.exports,_=function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"songdetailcontentlivue"},[n("div",{staticClass:"left"},[n("img",{attrs:{src:t.item.user.avatarUrl}})]),n("div",{staticClass:"right"},[n("h2",[n("span",[t._v(t._s(t.item.user.nickname))]),t._v(" :"+t._s(t.item.content)+" ")]),n("div",[n("span",{staticClass:"time"},[t._v(t._s(t.changetime(t.item.time)))]),n("span",{staticClass:"reset"},[t._v("回复")]),n("span",{staticClass:"zancount"},[n("img",{attrs:{src:i("efe2"),alt:""}}),t._v(" ("+t._s(t.item.likedCount)+") ")])])])])},w=[],C=(i("99af"),{props:{item:Object},methods:{changetime:function(t){var s=new Date(t),i=s.getFullYear(),n=s.getMonth(),e=s.getDay();return"".concat(i,"-").concat(n,"-").concat(e)}}}),y=C,b=(i("79e3"),Object(l["a"])(y,_,w,!1,null,"299b1d01",null)),x=b.exports,k={components:{Title:m,Contentitle:h,Contentlli:x},props:{},data:function(){return{simisonglist:[],songid:this.$route.query.id,song:{},currentLyric:"",songcomment:{}}},methods:{getsimisong:function(){var t=this;this.axios.get("/simi/song",{params:{id:this.songid}}).then((function(s){t.simisonglist=s.data.songs,window.localStorage.setItem("simisonglist-"+t.songid,JSON.stringify({val:s.data.songs,time:Date.now()+72e5}))})).catch((function(t){console.log(t)}))},checksimisong:function(){var t=JSON.parse(window.localStorage.getItem("simisonglist-"+this.song.id));t&&t.time>Date.now()?this.simisonglist=t.val:this.getsimisong()},getsongdetail:function(){var t=this;this.axios.get("/song/detail",{params:{ids:this.songid}}).then((function(s){t.song=s.data.songs[0],window.localStorage.setItem(t.songid+"details",JSON.stringify({val:t.song}))})).catch((function(t){console.log(t)}))},checkgetsongdetail:function(){var t=JSON.parse(window.localStorage.getItem(this.songid+"details"));t?this.song=t.val:this.getsongdetail()},getLyric:function(){var t=this,s=window.localStorage.getItem("lyric"+this.songid);s?this.currentLyric=s:window.axios.get("/lyric",{params:{id:this.songid}}).then((function(s){s.data.lrc?(t.currentLyric=s.data.lrc.lyric,window.localStorage.setItem("lyric"+t.songid,s.data.lrc.lyric)):(t.currentLyric="[00:00.000] 纯音乐请欣赏",window.localStorage.setItem("lyric"+t.songid,"[00:00.000] 纯音乐请欣赏"))}))},getcomment:function(){var t=this;this.axios.get("/comment/music",{params:{id:this.songid}}).then((function(s){t.songcomment=s.data,window.localStorage.setItem("comment-"+t.songid,JSON.stringify({val:t.songcomment,time:Date.now()+216e5}))})).catch((function(t){console.log(t)}))},checkcomment:function(){var t=JSON.parse(window.localStorage.getItem("comment-"+this.songid));t&&t.time>Date.now()?this.songcomment=t.val:this.getcomment()}},created:function(){this.checkgetsongdetail(),this.getLyric(),this.checkcomment(),this.checksimisong()},watch:{songid:function(){this.checkgetsongdetail(),this.getLyric(),this.checkcomment(),this.checksimisong()}},beforeRouteUpdate:function(t,s,i){this.songid=t.query.id,i()},beforeRouteEnter:function(t,s,i){i((function(s){s.songid=t.query.id,window.scrollTo(0,0)}))}},L=k,S=(i("d845"),Object(l["a"])(L,n,e,!1,null,"1bba37d5",null));s["default"]=S.exports},a849:function(t,s,i){},d636:function(t,s,i){t.exports=i.p+"img/@.344c59a6.svg"},d845:function(t,s,i){"use strict";var n=i("8e8c"),e=i.n(n);e.a},ef15:function(t,s,i){t.exports=i.p+"img/face.8d81794b.svg"},efe2:function(t,s,i){t.exports=i.p+"img/zan.17cf37f7.svg"}}]);
//# sourceMappingURL=chunk-431631c7.2398c811.js.map