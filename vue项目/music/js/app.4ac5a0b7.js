(function(t){function s(s){for(var i,o,r=s[0],c=s[1],l=s[2],d=0,h=[];d<r.length;d++)o=r[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&h.push(a[o][0]),a[o]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);u&&u(s);while(h.length)h.shift()();return n.push.apply(n,l||[]),e()}function e(){for(var t,s=0;s<n.length;s++){for(var e=n[s],i=!0,r=1;r<e.length;r++){var c=e[r];0!==a[c]&&(i=!1)}i&&(n.splice(s--,1),t=o(o.s=e[0]))}return t}var i={},a={app:0},n=[];function o(s){if(i[s])return i[s].exports;var e=i[s]={i:s,l:!1,exports:{}};return t[s].call(e.exports,e,e.exports,o),e.l=!0,e.exports}o.m=t,o.c=i,o.d=function(t,s,e){o.o(t,s)||Object.defineProperty(t,s,{enumerable:!0,get:e})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,s){if(1&s&&(t=o(t)),8&s)return t;if(4&s&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(o.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&s&&"string"!=typeof t)for(var i in t)o.d(e,i,function(s){return t[s]}.bind(null,i));return e},o.n=function(t){var s=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(s,"a",s),s},o.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)},o.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=s,r=r.slice();for(var l=0;l<r.length;l++)s(r[l]);var u=c;n.push([0,"chunk-vendors"]),e()})({0:function(t,s,e){t.exports=e("56d7")},"045b":function(t,s,e){t.exports=e.p+"img/loopplay.66593858.svg"},"0edf":function(t,s,e){"use strict";var i=e("d328"),a=e.n(i);a.a},"0f91":function(t,s,e){t.exports=e.p+"img/headset.35b13fa0.svg"},"14d7":function(t,s,e){},1913:function(t,s,e){},"1d4c":function(t,s,e){"use strict";var i=e("cb8c"),a=e.n(i);a.a},2066:function(t,s,e){t.exports=e.p+"img/nextplay.48f1b0f8.svg"},"20b9":function(t,s,e){t.exports=e.p+"img/addlist.c5a150ea.svg"},2395:function(t,s,e){},"26db":function(t,s,e){t.exports=e.p+"img/share1.9f3be563.svg"},3265:function(t,s,e){"use strict";var i=e("37b3"),a=e.n(i);a.a},"37b3":function(t,s,e){},"3f60":function(t,s,e){t.exports=e.p+"img/play2.1def4f46.svg"},"46a5":function(t,s,e){t.exports=e.p+"img/playaudio.a470e972.svg"},"4c5c":function(t,s,e){"use strict";var i=e("643c"),a=e.n(i);a.a},"4ee0":function(t,s,e){},"4f22":function(t,s,e){t.exports=e.p+"img/pauseaudio.2374bf1f.svg"},5082:function(t,s,e){t.exports=e.p+"img/return1.f943dc2c.svg"},"56d7":function(t,s,e){"use strict";e.r(s);e("e260"),e("e6cf"),e("cca6"),e("a79d");var i=e("2b0e"),a=(e("d3b7"),e("bc3a")),n=e.n(a),o={baseURL:"https://music.kele8.cn"},r=n.a.create(o);r.interceptors.request.use((function(t){return t}),(function(t){return Promise.reject(t)})),r.interceptors.response.use((function(t){return t}),(function(t){return Promise.reject(t)})),Plugin.install=function(t,s){t.axios=r,window.axios=r,Object.defineProperties(t.prototype,{axios:{get:function(){return r}},$axios:{get:function(){return r}}})},i["a"].use(Plugin);Plugin;var c=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{attrs:{id:"app"},on:{touchstart:t.apptouchstart,touchend:t.apptouchend}},[i("keep-alive",[i("router-view",{attrs:{songid:t.songid},on:{"translate-song":function(s){t.songid=s,t.checkgetsongdetail()}}})],1),t.songdetails?i("AudioPlay",{attrs:{currentSong:t.songdetails,defaultPlay:t.defaultPlayList},on:{"show-playlist":t.showsongPlayList,"translate-song":function(s){t.songid=s,t.checkgetsongdetail()},"delete-playlist":t.deleteplaylist}}):t._e(),i("transition",{attrs:{name:"custom-classes-transition","enter-active-class":"animated slideInUp","leave-active-class":"animated slideOutDown"}},[t.showPlayList?i("div",{staticClass:"showmenu",on:{click:function(s){if(s.target!==s.currentTarget)return null;t.showPlayList=!1}}},[i("ul",{staticClass:"defaultPlayList"},[i("h4",[t._v("当前播放")]),i("span",{staticClass:"playlistnum"},[t._v("("+t._s(t.defaultPlayList.length)+")")]),i("div",{staticClass:"playlisttitle"},[i("div",{staticClass:"model"},[i("img",{attrs:{src:t.audiomodel},on:{click:t.switchaudiomodel}}),i("span",[t._v(t._s(t.audiomodelname))])]),i("div",{staticClass:"addlist"},[i("img",{attrs:{src:e("20b9"),alt:""}}),i("span",[t._v("收藏全部")])]),i("span",{staticClass:"trash"},[t._v(" | "),i("img",{attrs:{src:e("c637"),alt:""}})])]),t._l(t.defaultPlayList,(function(s,e){return i("Singplaylist",{key:e,attrs:{song:s,songid:t.songid},on:{"delete-playlist":t.deleteplaylist,"translate-song":function(s){t.songid=s,t.checkgetsongdetail()}}})}))],2)]):t._e()])],1)},l=[],u=(e("45fc"),e("a434"),function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"playbar"},[t.currentSong?[i("div",{staticClass:"playbarbottom",on:{click:function(s){t.showFullscreen=!0}}},[i("img",{staticClass:"thumb",class:{active:t.playing},attrs:{src:t.currentSong.al.picUrl,alt:""}}),i("div",{staticClass:"info"},[i("h5",[t._v(t._s(t.currentSong.name))]),i("span",[t._v(t._s(t.currentSong.ar[0].name))])]),i("div",{staticClass:"progress",on:{click:function(s){s.stopPropagation(),t.playing=!t.playing}}},[i("canvas",{attrs:{width:"36",height:"36",id:"canvas"}}),t.playing?i("i",{staticClass:"fa fa-pause"}):i("i",{staticClass:"fa fa-play"})]),i("div",{staticClass:"playlist",on:{click:function(s){return s.stopPropagation(),t.$emit("show-playlist")}}},[i("i",{staticClass:"fa fa-bars",attrs:{"aria-hidden":"true"}})])]),i("transition",{attrs:{name:"custom-classes-transition","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.showFullscreen,expression:"showFullscreen"}],staticClass:"fullscreenplay"},[i("div",{staticClass:"mask",style:{backgroundImage:"url("+t.currentSong.al.picUrl+")"}}),i("header",[i("img",{attrs:{src:e("5082")},on:{click:function(s){t.showFullscreen=!1}}}),i("div",{staticClass:"songdetailtop"},[i("h4",[t._v(t._s(t.currentSong.name))]),i("span",[t._v(t._s(t.currentSong.ar[0].name))])]),i("div",{staticClass:"share"},[i("img",{attrs:{src:e("26db"),alt:""}})])]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showCircle,expression:"showCircle"}],staticClass:"circle",class:{active:t.playing},on:{click:function(s){t.showCircle=!1}}},[i("div",{staticClass:"needle"}),i("div",{staticClass:"glue"},[i("img",{attrs:{src:t.currentSong.al.picUrl,alt:""}})]),i("ul",{staticClass:"circlebuttom"},[i("li",{on:{click:function(s){s.stopPropagation(),t.heartactive=!t.heartactive}}},[i("img",{attrs:{src:t.heart},on:{click:t.switchheart}})]),i("li",[i("img",{attrs:{src:e("6369"),alt:""}})]),i("li",[i("img",{attrs:{src:e("ee6b"),alt:""}})]),i("li",[i("img",{attrs:{src:e("f7e7"),alt:""}})]),i("li",[i("img",{attrs:{src:e("af76"),alt:""}})])])]),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.showCircle,expression:"!showCircle"}],staticClass:"lyric-box",on:{click:function(s){t.showCircle=!0}}},[i("ul",{staticClass:"scroll",style:{transform:"translateY("+28*-t.currentLyricIndex+"px)"}},t._l(t.parsedLyric,(function(s,e){return i("li",{key:e,class:{active:e===t.currentLyricIndex}},[t._v(t._s(t.processlyric(s.text)))])})),0)]),i("transition",{attrs:{name:"classes-transition","enter-active-class":"animated slideInUp","leave-active-class":"animated slideOutDown"}},[t.showPlayList?i("div",{staticClass:"showmenu",on:{click:function(s){if(s.target!==s.currentTarget)return null;t.showPlayList=!1}}},[i("ul",{staticClass:"defaultPlayList"},[i("h4",[t._v("当前播放")]),i("span",{staticClass:"playlistnum"},[t._v("("+t._s(t.defaultPlay.length)+")")]),i("div",{staticClass:"playlisttitle"},[i("div",{staticClass:"model"},[i("img",{attrs:{src:t.audiomodel1},on:{click:t.switchaudiomodel}}),i("span",[t._v(t._s(t.audiomodelname))])]),i("div",{staticClass:"addlist"},[i("img",{attrs:{src:e("20b9"),alt:""}}),i("span",[t._v("收藏全部")])]),i("span",{staticClass:"trash"},[t._v(" | "),i("img",{attrs:{src:e("c637"),alt:""}})])]),t._l(t.defaultPlay,(function(s,e){return i("Singplaylist",{key:e,attrs:{song:s,songid:t.currentSong.id},on:{"translate-song":function(s){return t.$emit("translate-song",s)},"delete-playlist":function(s){return t.$emit("delete-playlist",s)}}})}))],2)]):t._e()]),i("footer",[i("div",{staticClass:"divrange"},[i("span",[t._v(t._s(t.arrangetime(t.audioprogress)))]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.audiotime,expression:"audiotime"}],staticClass:"inputrange",attrs:{type:"range",max:"100"},domProps:{value:t.audiotime},on:{__r:function(s){t.audiotime=s.target.value}}}),i("span",{staticClass:"totaltime"},[t._v(t._s(t.arrangetime(t.currentSong.dt)))]),i("audio",{attrs:{src:t.currentSongUrl,autoplay:"",controls:"",height:"30"}})]),i("div",{staticClass:"footerbottom"},[i("span",{staticClass:"audiomodel"},[i("img",{attrs:{src:t.audiomodel},on:{click:t.switchaudiomodel}})]),i("span",{staticClass:"lastaudio"},[i("img",{attrs:{src:e("fc40")},on:{click:function(s){return s.stopPropagation(),t.prevplayaudio(s)}}})]),i("span",{staticClass:"playaudio"},[i("img",{attrs:{src:t.playaudio},on:{click:t.switchplayaudio}})]),i("span",{staticClass:"nextaudio"},[i("img",{attrs:{src:e("2066")},on:{click:function(s){return s.stopPropagation(),t.nextplayaudio(s)}}})]),i("span",{staticClass:"historyaudio",on:{click:function(s){return s.stopPropagation(),t.showmenu(s)}}},[i("img",{attrs:{src:e("7885")}})])])])],1)])]:t._e()],2)}),d=[],h=(e("99af"),e("d81d"),e("a9e3"),e("b680"),e("ac1f"),e("466d"),e("5319"),e("841c"),e("1276"),function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("li",{staticClass:"detail",on:{click:function(s){return t.$emit("translate-song",t.songidentity)}}},[i("div",{staticClass:"titleleft"},[t.songplaying?[i("img",{attrs:{src:e("803f"),alt:""}})]:t._e(),i("span",[t._v(t._s(t.song.name))]),i("span",[t._v("-"+t._s(t.song.ar[0].name))])],2),i("div",{staticClass:"titleright"},[i("img",{attrs:{src:e("9ad7")},on:{click:function(s){return s.stopPropagation(),t.$emit("delete-playlist",t.song.id)}}})])])}),g=[],f={data:function(){return{songplaying:!1}},props:{song:Object,songid:Number},mounted:function(){this.songindex==this.song.id&&(this.songplaying=!0)},computed:{songindex:function(){return this.songid},songidentity:function(){return this.song.id}},watch:{songindex:function(){this.songindex==this.song.id?this.songplaying=!0:this.songplaying=!1}}},m=f,p=(e("4c5c"),e("2877")),v=Object(p["a"])(m,h,g,!1,null,null,null),y=v.exports,_={props:{currentSong:Object,defaultPlay:Array},components:{Singplaylist:y},data:function(){return{playing:!1,showFullscreen:!1,showCircle:!0,currentLyric:null,currentLyricIndex:0,showPlayList:!1,heartactive:!0,audiotime:0,audioprogress:Number,audiomodel:e("f675"),audiomodel1:e("d4c7"),playaudio:e("4f22"),totaltime:"",nowtime:"",heart:e("9103"),audiomodelname:"单曲循环"}},methods:{drawProgress:function(){var t=this.$el.querySelectorAll("#canvas"),s=this.$el.querySelectorAll("audio"),e=this.currentSong.dt;s.ontimeupdate=function(){var i=t.getContext("2d");i.clearRect(0,0,36,36),i.beginPath(),i.arc(18,18,17,0,2*Math.PI),i.closePath(),i.strokeStyle="gray",i.lineWidth="1",i.stroke(),i.beginPath(),i.arc(18,18,17,-.5*Math.PI,-.5*Math.PI+2*Math.PI*(1e3*s.currentTime/e)),i.strokeStyle="rgba(255,0,0,0.7)",i.lineWidth="1",i.stroke()}},lyrichighlight:function(){var t=0;if(this.parsedLyric.length){for(var s=0;s<this.parsedLyric.length;s++)if(this.audioprogress<this.parsedLyric[s].time){t=s-1;break}void 0===t&&(t=this.parsedLyric.length-1),this.currentLyricIndex=t}else this.currentLyricIndex=t},getLyric:function(){var t=this,s=window.localStorage.getItem("lyric"+this.currentSong.id);s?this.currentLyric=s:window.axios.get("lyric",{params:{id:this.currentSong.id}}).then((function(s){s.data.lrc?(t.currentLyric=s.data.lrc.lyric,window.localStorage.setItem("lyric"+t.currentSong.id,s.data.lrc.lyric)):(t.currentLyric="[00:00.000] 纯音乐请欣赏",window.localStorage.setItem("lyric"+t.currentSong.id,"[00:00.000] 纯音乐请欣赏"))}))},addEventListeners:function(){var t=this.$el.querySelector("audio");t.addEventListener("timeupdate",this._currentTime)},removeEventListeners:function(){var t=this.$el.querySelector("audio");t.removeEventListener("timeupdate",this._currentTime)},_currentTime:function(){var t=this.$el.querySelector("audio");this.audioprogress=parseInt(t.currentTime)},switchaudiomodel:function(){this.audiomodel==e("f675")?(this.audiomodel=e("6aed"),this.audiomodel1=e("98af"),this.audiomodelname="随机播放"):this.audiomodel==e("6aed")?(this.audiomodel=e("045b"),this.audiomodel1=e("872b"),this.audiomodelname="列表循环"):this.audiomodel==e("045b")&&(this.audiomodel=e("f675"),this.audiomodel1=e("d4c7"),this.audiomodelname="单曲循环")},switchplayaudio:function(){this.playaudio==e("46a5")?(this.playaudio=e("4f22"),this.playing=!0):this.playaudio==e("4f22")&&(this.playaudio=e("46a5"),this.playing=!1)},processlyric:function(t){var s=t;return void 0!=t&&(s=t.replace(/\[.*:.*\]/,"")),s},arrangetime:function(t){t>1e4&&(t=(t/1e3).toFixed(0));var s=(t/60).toFixed(0);s=s<10?"0"+s:s;var e=t%60<10?"0"+t%60:t%60;return s+":"+e},switchheart:function(){this.heart==e("9103")?this.heart=e("fbe8"):this.heart=e("9103")},prevplayaudio:function(){var t,s=this;this.audiomodel==e("6aed")?t=Math.floor(Math.random()*this.defaultPlay.length):(this.defaultPlay.map((function(e,i){e.id==s.currentSong.id&&(t=i)})),0==t?t=this.defaultPlay.length-1:t-=1),this.$emit("translate-song",this.defaultPlay[t].id)},nextplayaudio:function(){var t,s=this;this.audiomodel==e("6aed")?t=Math.floor(Math.random()*this.defaultPlay.length):(this.defaultPlay.map((function(e,i){e.id==s.currentSong.id&&(t=i)})),t+1>=this.defaultPlay.length?t=0:t+=1),this.$emit("translate-song",this.defaultPlay[t].id)},showmenu:function(){this.showPlayList=!this.showPlayList},playaudiomodel:function(){if(console.log("进来改函数了"),this.audiomodel==e("f675"))this.playing=!0,console.log("单曲循环");else if(this.audiomodel==e("6aed")){var t=Math.floor(Math.random()*this.defaultPlay.length);this.$emit("translate-song",this.defaultPlay[t].id),console.log("随机播放")}else this.audiomodel==e("045b")&&(this.nextplayaudio(),console.log("列表循环"))}},computed:{currentSongUrl:function(){return this.currentSong?"https://music.163.com/song/media/outer/url?id=".concat(this.currentSong.id,".mp3"):""},parsedLyric:function(){return this.currentLyric?this.currentLyric.split("\n").map((function(t){var s=/\d{2}:\d{2}\.\d+/i;if(-1!==t.search(s)){var e=t.match(s)[0],i=e.substr(0,2),a=e.substr(3,2),n=e.substr(5);return{time:60*Number(i)+Number(a)+Number(n),text:t.substr(11)||"---------"}}return{}})):[{time:0,text:"暂时没有歌词"}]}},mounted:function(){var t=this,s=this.$el.querySelector("audio");this.drawProgress(),s.onplay=function(){t.playing=!0},s.onpause=function(){t.playing=!1},this.addEventListeners()},watch:{currentSong:function(){this.getLyric()},playing:function(t){var s=this.$el.querySelector("audio");t?(s.play(),this.playaudio=e("4f22")):(s.pause(),this.playaudio=e("46a5"))},audiotime:function(t,s){var e=this.$el.querySelector("audio");(t-s>1||s-t>1)&&(e.currentTime=t*e.duration/100);var i=this.$el.querySelectorAll(".inputrange");i[0].style.background="linear-gradient(to right,\n     #fafafa ".concat(this.audiotime,"%, #c1c1c1 ").concat(this.audiotime,"%, #c1c1c1 ").concat(100-this.audiotime,"%)")},audioprogress:function(){var t=this.$el.querySelector("audio");this.audiotime=this.audioprogress/t.duration*100,this.audiotime>99&&(this.audiotime=0,this.playing=!1,this.playaudiomodel()),this.lyrichighlight()}},created:function(){this.getLyric()},beforeDestroyed:function(){this.removeEventListeners()}},w=_,C=(e("8a60"),Object(p["a"])(w,u,d,!1,null,"05ff3bdc",null)),b=C.exports,k={methods:{apptouchstart:function(t){this.touchstartX=t.changedTouches[0].clientX,this.touchstartY=t.changedTouches[0].clientY},apptouchend:function(t){this.touchendX=t.changedTouches[0].clientX,this.touchendY=t.changedTouches[0].clientY,this.touchendX-this.touchstartX>50&&(this.routerBack(),this.touchendX=0,this.touchendY=0,this.touchstartX=0,this.touchstartY=0),this.touchendX-this.touchstartX<-50&&(this.routerForward(),this.touchendX=0,this.touchendY=0,this.touchstartX=0,this.touchstartY=0)},routerBack:function(){this.$router.back()},routerForward:function(){this.$router.forward()},getsongdetail:function(){var t=this;this.axios.get("/song/detail",{params:{ids:this.songid}}).then((function(s){t.songdetails=s.data.songs[0],window.localStorage.setItem(t.songid+"details",JSON.stringify({val:t.songdetails}));var e=t.defaultPlayList.some((function(s){return s.id==t.songid}));e||t.defaultPlayList.push(t.songdetails)})).catch((function(t){console.log(t)}))},checkgetsongdetail:function(){var t=this,s=JSON.parse(window.localStorage.getItem(this.songid+"details"));if(s){this.songdetails=s.val;var e=this.defaultPlayList.some((function(s){return s.id==t.songid}));e||this.defaultPlayList.push(this.songdetails)}else this.getsongdetail()},showsongPlayList:function(){this.showPlayList=!this.showPlayList},switchaudiomodel:function(){this.audiomodel==e("d4c7")?(this.audiomodel=e("98af"),this.audiomodelname="随机播放"):this.audiomodel==e("98af")?(this.audiomodel=e("872b"),this.audiomodelname="单曲循环"):this.audiomodel==e("872b")&&(this.audiomodel=e("d4c7"),this.audiomodelname="列表循环")},deleteplaylist:function(t){var s=this.defaultPlayList.some((function(s,e){if(s.id==t)return e}));this.defaultPlayList.splice(s,1),this.songid==t&&(console.log("此时删除的就是正在播放的歌"),void 0==this.defaultPlayList[s]&&(s=0,void 0==this.defaultPlayList[0]&&this.$router.go(0)),this.songid=this.defaultPlayList[s].id)}},data:function(){return{playaudio:"",touchstartX:0,touchendX:0,touchstartY:0,touchendY:0,songid:1111,songdetails:null,showPlayList:!1,defaultPlayList:[{id:1446522140,name:"最好的幸运",ar:[{name:"李凯馨"}]},{id:1398850429,name:"夜的钢琴曲5",ar:[{name:"文武贝"}]},{id:393685,name:"故乡的原风景",ar:[{name:"宗次郎"}]}],audiomodel:e("d4c7"),audiomodelname:"列表循环"}},components:{AudioPlay:b,Singplaylist:y},watch:{songid:function(){this.checkgetsongdetail()}}},x=k,S=(e("7c55"),Object(p["a"])(x,c,l,!1,null,null,null)),P=S.exports,L=e("8c4f"),$=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"home"},[e("HomeLink"),e("div",{staticClass:"personalized"},[e("CardTitle",[t._v("推荐歌单")]),e("ul",{staticClass:"songlist"},t._l(t.randomPersonalizeds(),(function(t,s){return e("SongListCard",{key:s,attrs:{item:t}})})),1)],1),e("div",{staticClass:"newsong"},[e("CardTitle",[t._v("推荐音乐")]),e("ul",{staticClass:"musiclist"},t._l(t.newsongs,(function(s,i){return e("RecommendMusic",{key:i,attrs:{song:s,songid:t.songid},on:{"translate-song":function(s){return t.$emit("translate-song",s)}}})})),1)],1)],1)},O=[],I=e("2909"),j=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"title"},[e("h3",[t._t("default")],2)])},N=[],E=(e("c779"),{}),T=Object(p["a"])(E,j,N,!1,null,"1161c07b",null),M=T.exports,z=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("li",{staticClass:"card",on:{click:function(s){return t.ToPlaylist(t.item.id,t.count)}}},[i("div",{staticClass:"thumb"},[i("img",{attrs:{src:t.item.picUrl}}),i("span",[i("img",{attrs:{src:e("0f91"),alt:""}}),t._v(" "+t._s(t.playlistcount())+" ")])]),i("h5",[t._v(t._s(t.item.name))])])},D=[],U={props:{item:{type:Object,default:function(){return{id:4969079749,type:0,name:"欧美 | 欢快小调拯救你的不开心",copywriter:"编辑推荐：音乐是治愈人心的良药",picUrl:"https://p2.music.126.net/nflx5ZxSSPivvGnyS5WRGw==/109951164906376339.jpg",canDislike:!1,trackNumberUpdateTime:1586934907095,playCount:1209355,trackCount:100,highQuality:!1,alg:"featured"}}}},data:function(){return{count:Number}},methods:{ToPlaylist:function(t,s){this.$router.push({path:"playlist",query:{id:t,audiencecount:s}})},playlistcount:function(){return this.item.playCount/1e8>1?(this.count=(this.item.playCount/1e8).toFixed(1)+"亿",this.count):this.item.playCount/1e4>1?(this.count=(this.item.playCount/1e4).toFixed(1)+"万",this.count):(this.count=this.item.playCount,this.count)}}},q=U,J=(e("ce20"),Object(p["a"])(q,z,D,!1,null,"4d2b7b3d",null)),X=J.exports,F=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"homelinktop",class:{homelink:t.homelink}},[t._m(0),e("ul",{attrs:{id:"nav"}},[e("li",[e("router-link",{attrs:{to:"/"}},[t._v("推荐音乐")])],1),e("li",[e("router-link",{attrs:{to:"/hot"}},[t._v("热歌榜")])],1),e("li",[e("router-link",{attrs:{to:"/search"}},[t._v("搜索")])],1)])])},Y=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"top-logo"},[e("img",{attrs:{src:"https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=3915735970,515042675&fm=26&gp=0.jpg"}}),e("span",[t._v("网易云音乐")]),e("button",[t._v("下载APP")])])}],H={data:function(){return{homelink:!1}}},R=H,A=(e("0edf"),Object(p["a"])(R,F,Y,!1,null,"38c3ffaa",null)),W=A.exports,G=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("li",{staticClass:"songdetail",on:{click:function(s){return t.$emit("translate-song",t.song.id)}}},[e("div",{staticClass:"songleft"},[e("h3",[t._v(" "+t._s(t.song.name)+" "),e("span",[t._v(t._s(void 0!=t.songdetails.alias[0]?"("+t.songdetails.alias[0]+")":""))])]),e("p",[e("span",{staticClass:"sghot"}),e("span",[t._v(t._s(t.songdetails.artists[0].name))]),t._v(" - "),e("span",[t._v(t._s(t.songdetails.album.name))])])]),e("div",{staticClass:"songright"},[e("img",{attrs:{src:t.songplaying,alt:""}})])])},B=[],Q={data:function(){return{songplaying:e("3f60")}},props:{song:Object,songid:Number},computed:{songdetails:function(){return this.song.song},songindex:function(){return this.songid}},mounted:function(){this.songid==this.song.id&&(this.songplaying=e("803f"))},watch:{songindex:function(){this.songid==this.song.id?this.songplaying=e("803f"):this.songplaying=e("3f60")}}},K=Q,Z=(e("3265"),Object(p["a"])(K,G,B,!1,null,null,null)),V=Z.exports,tt={name:"Home",data:function(){return{personalizeds:[],newsongs:[]}},props:{songid:Number},components:{CardTitle:M,SongListCard:X,HomeLink:W,RecommendMusic:V},methods:{getPersonalized:function(){var t=this;this.axios.get("/personalized").then((function(s){t.personalizeds=s.data.result,window.localStorage.setItem("personalizeds",JSON.stringify({val:t.personalizeds,time:Date.now()+144e5}))})).catch((function(t){console.log(t)}))},getNewSong:function(){var t=this;this.axios.get("/personalized/newsong").then((function(s){t.newsongs=s.data.result,window.localStorage.setItem("newsongs",JSON.stringify({val:t.newsongs,time:Date.now()+14400}))})).catch((function(t){console.log(t)}))},randomPersonalizeds:function(){for(var t=Object(I["a"])(this.personalizeds),s=[],e=0;e<6;e++){var i=Math.floor(Math.random()*t.length);s.push.apply(s,Object(I["a"])(t.splice(i,1)))}return s}},created:function(){var t=JSON.parse(window.localStorage.getItem("personalizeds")),s=JSON.parse(window.localStorage.getItem("newsongs"));this.getNewSong(),s&&s.time>Date.now()?this.newsongs=s.val:this.getNewSong(),t&&t.time>Date.now()?this.personalizeds=t.val:this.getPersonalized()}},st=tt,et=(e("de16"),Object(p["a"])(st,$,O,!1,null,null,null)),it=et.exports,at=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"hot"},[e("HomeLink"),t.hotlist?[e("div",{staticClass:"hotpot"},[e("div",{staticClass:"hotpotimg"}),e("p",[t._v("更新日期"+t._s(t.Refreshtime(t.hotlist.updateTime)))])]),e("div",{staticClass:"hotcontent"},[e("ul",t._l(t.hotlistshow,(function(s,i){return e("li",{key:i,on:{click:function(e){return t.$emit("translate-song",s.id)}}},[e("span",{staticClass:"songorder"},[t._v(t._s(t.RankingCount(i+1)))]),e("div",{staticClass:"songlistfl"},[e("h3",[t._v(t._s(s.name))]),e("p",[e("span",{staticClass:"sghot"}),e("span",[t._v(t._s(s.ar[0].name))]),t._v(" - "),e("span",[t._v(t._s(s.al.name))])])]),t._m(0,!0)])})),0)]),e("div",{staticClass:"hotmore",on:{click:t.Addsongcount}},[e("p",[t._v("加载查看更多 >")])])]:t._e()],2)},nt=[function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"songlistright"},[i("img",{attrs:{src:e("3f60"),alt:""}})])}],ot=(e("fb6a"),{components:{HomeLink:W},data:function(){return{hotlist:null,hotlistcount:20}},methods:{getHotList:function(){var t=this;this.axios.get("/top/list?idx=1").then((function(s){t.hotlist=s.data.playlist,window.localStorage.setItem(" hotlist",JSON.stringify({val:t.hotlist,time:Date.now()+10800}))})).catch((function(t){console.log(t)}))},CheckLocal:function(){var t=JSON.parse(window.localStorage.getItem("hotlist"));t&&t.time>Date.now()?this.hotlist=t.val:this.getHotList()},Refreshtime:function(t){var s=new Date(t),e=s.getMonth()+1,i=s.getDate();return i=i<10?"0"+i:i,e=e<10?"0"+e:e,"".concat(e,"月").concat(i,"日")},Addsongcount:function(){this.hotlistcount<=this.hotlist.tracks.length?this.hotlistcount+=20:this.hotlistcount=this.hotlist.tracks.length},RankingCount:function(t){return t<10?"0"+t:t}},created:function(){this.CheckLocal()},mounted:function(){this.Refreshtime()},computed:{hotlistshow:function(){return this.hotlist.tracks.slice(0,this.hotlistcount)}}}),rt=ot,ct=(e("ffe1"),Object(p["a"])(rt,at,nt,!1,null,"4d12b43a",null)),lt=ct.exports,ut=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"search"},[i("HomeLink"),i("div",{staticClass:"searchinput"},[t._m(0),i("input",{directives:[{name:"model",rawName:"v-model",value:t.searchtext,expression:"searchtext"}],attrs:{type:"text",placeholder:"搜索歌曲、歌手、专辑"},domProps:{value:t.searchtext},on:{keyup:function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"enter",13,s.key,"Enter")?null:t.searchsubmit(t.searchtext)},input:function(s){s.target.composing||(t.searchtext=s.target.value)}}}),i("span",{on:{click:t.delsearchtext}},[t.showresult?i("i",{staticClass:"fa fa-times-circle"}):t._e()])]),t.searchlist?[i("div",{staticClass:"hotsearch"},[t.searchtext?i("div",{staticClass:"searching"},[i("h3",[t._v('搜索"'+t._s(t.searchtext)+'"')]),t.searchsuggest?i("ul",t._l(t.searchsuggest,(function(s,e){return i("li",{key:e,on:{click:function(e){return t.searchsubmit(s.keyword)}}},[t._m(1,!0),i("p",[t._v(t._s(s.keyword))])])})),0):t._e()]):t._e(),i("div",{staticClass:"hotsearchtext"},[i("h5",[t._v("热门搜索")]),t._l(t.searchlist,(function(s,e){return i("span",{key:e,on:{click:function(e){return t.searchsubmit(s.first)}}},[t._v(t._s(s.first))])}))],2),t.showresult?i("div",{staticClass:"searchresult"},[i("h5",[t._v("最佳匹配")]),i("ul",t._l(t.resultlist,(function(s,e){return i("li",{key:e,staticClass:"songdetail",on:{click:function(e){return t.$emit("translate-song",s.id)}}},[i("div",{staticClass:"songleft"},[i("h3",[t._v(t._s(s.name))]),i("p",[i("span",{staticClass:"sghot"}),i("span",[t._v(t._s(s.artists[0].name))]),t._v(" - "),i("span",[t._v(t._s(s.album.name))])])]),t._m(2,!0)])})),0)]):t._e()]),i("div",{staticClass:"searchhistory"},[i("ul",t._l(t.searchhistory,(function(s,a){return i("li",{key:a,on:{click:function(e){return t.searchsubmit(s)}}},[t._m(3,!0),i("div",[i("p",[t._v(t._s(s))]),i("span",{staticClass:"delsearchhistory",on:{click:function(s){return s.stopPropagation(),t.searchhistory.splice(a,1)}}},[i("img",{attrs:{src:e("d739")}})])])])})),0)])]:t._e()],2)},dt=[function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("span",[i("img",{attrs:{src:e("ebc4"),alt:""}})])},function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("span",[i("img",{attrs:{src:e("ebc4"),alt:""}})])},function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"songright"},[i("img",{attrs:{src:e("3f60"),alt:""}})])},function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("span",[i("img",{attrs:{src:e("76e0"),alt:""}})])}],ht={components:{HomeLink:W},data:function(){return{searchtext:"",searchlist:null,searchhistory:["写作业"],searchsuggest:[],showresult:!1,resultlist:null}},methods:{getSearchList:function(){var t=this;this.axios.get("/search/hot").then((function(s){t.searchlist=s.data.result.hots,window.localStorage.setItem(" searchlist",JSON.stringify({val:t.searchlist,time:Date.now()+3600}))})).catch((function(t){console.log(t)}))},CheckLocal:function(){var t=JSON.parse(window.localStorage.getItem("searchlist"));t&&t.time>Date.now()?this.searchlist=t.val:this.getSearchList()},searchsubmit:function(t){this.showresult=!0;for(var s=0;s<this.searchhistory.length;s++)t==this.searchhistory[s]&&this.searchhistory.splice(s,1);this.searchhistory.unshift(t),this.getsearchresult(t),this.searchtext=t},delsearchtext:function(){this.showresult=!1,this.searchtext=""},getSearchsuggest:function(){var t=this;this.axios.get("/search/suggest",{params:{keywords:this.searchtext,type:"mobile"}}).then((function(s){t.searchsuggest=s.data.result.allMatch})).catch((function(t){console.log(t)}))},getsearchresult:function(t){var s=this;this.axios.get("/search",{params:{keywords:t}}).then((function(t){s.resultlist=t.data.result.songs})).catch((function(t){console.log(t)}))}},created:function(){this.CheckLocal()},watch:{searchtext:function(){this.getSearchsuggest()}}},gt=ht,ft=(e("c1ed"),Object(p["a"])(gt,ut,dt,!1,null,"8aaf151e",null)),mt=ft.exports,pt=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"playlist"},[t.checkenter?i("div",{staticClass:"playlistmask"},[i("img",{attrs:{src:e("ca1e"),alt:""}})]):t._e(),t.songdata&&t.playdata?[i("div",{staticClass:"header"},[i("div",{staticClass:"mask",style:{backgroundImage:"url("+t.songdata.coverImgUrl+")"}}),i("div",{staticClass:"titleimg"},[i("img",{attrs:{src:t.songdata.coverImgUrl}}),i("span",{staticClass:"headercount"},[i("img",{attrs:{src:e("0f91"),alt:""}}),t._v(" "+t._s(t.audiencecount)+" ")]),i("span",{staticClass:"playlisttitle"},[t._v("歌单")])]),i("div",{staticClass:"header-right"},[i("h4",[t._v(t._s(t.songdata.name))]),i("div",{staticClass:"header-rtoop"},[i("img",{attrs:{src:t.creator.avatarUrl,alt:""}}),i("span",[t._v(t._s(t.creator.nickname))])])])]),i("div",{staticClass:"labelcontent"},[i("h5",[t._v(" 标签: "),t._l(t.songdata.tags,(function(s,e){return i("span",{key:e},[t._v(t._s(s))])}))],2),i("div",{staticClass:"labeldescrip",class:{show:t.showhidden}},[i("span",[t._v("简介:")]),i("span",[t._v(t._s(t.songdata.description))])]),t.checkover?i("div",{staticClass:"more",on:{click:function(s){t.showhidden=!t.showhidden}}},[t.showhidden?i("i",{staticClass:"fa fa-angle-up"}):i("i",{staticClass:"fa fa-angle-down"})]):t._e()]),i("div",{staticClass:"content"},[i("h5",{staticClass:"contentitle"},[t._v("歌曲列表")]),i("ul",{staticClass:"contentdetails"},t._l(t.songdata.tracks,(function(s,e){return i("li",{key:e,on:{click:function(e){return t.$emit("translate-song",s.id)}}},[i("span",{staticClass:"songorder"},[t._v(t._s(e+1))]),i("div",{staticClass:"songlistfl"},[i("h3",[t._v(t._s(s.name))]),i("p",[i("span",[t._v(t._s(s.ar[0].name))]),t._v(" - "),i("span",[t._v(t._s(s.al.name))])])]),t._m(0,!0)])})),0),i("h5",{staticClass:"contentitle"},[t._v("精彩评论")]),i("ul",t._l(t.hotcomments,(function(s,e){return i("li",{key:e,staticClass:"contenthotcomments"},[i("div",{staticClass:"conhotc-top"},[i("div",{staticClass:"conhotc-top-left"},[i("img",{attrs:{src:s.user.avatarUrl}})]),i("div",{staticClass:"talkman"},[i("h5",[t._v(t._s(s.user.nickname))]),i("p",[t._v(t._s(t.counttime(s.time)))])]),i("LikeCount",{staticClass:"likecount",attrs:{commentlikecount:s.likedCount}})],1),i("div",{staticClass:"conhotc-bottom"},[i("p",[t._v(t._s(s.content))])])])})),0),i("h5",{staticClass:"contentitle"},[t._v("最新评论("+t._s(t.comments.length)+")")]),i("ul",t._l(t.comments,(function(s,e){return i("li",{key:e,staticClass:"contentcomments"},[i("div",{staticClass:"conhotc-top"},[i("div",{staticClass:"conhotc-top-left"},[i("img",{attrs:{src:s.user.avatarUrl}})]),i("div",{staticClass:"talkman"},[i("h5",[t._v(t._s(s.user.nickname))]),i("p",[t._v(t._s(t.counttime(s.time)))])]),i("LikeCount",{staticClass:"likecount",attrs:{commentlikecount:s.likedCount}})],1),i("p",{staticClass:"conhotc-bottom"},[t._v(t._s(s.content))])])})),0)])]:t._e()],2)},vt=[function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"songlistright"},[i("img",{attrs:{src:e("3f60"),alt:""}})])}],yt=(e("a4d3"),e("e01a"),function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("span",[t._v(t._s(t.likecount))]),e("img",{attrs:{src:t.zanaddress},on:{click:t.addcount}})])}),_t=[],wt={data:function(){return{redhand:!1,zanaddress:e("e894"),likecount:this.commentlikecount}},props:["commentlikecount"],methods:{addcount:function(){this.redhand=!this.redhand,this.redhand?(this.likecount++,this.zanaddress=e("9cbf")):(this.likecount--,this.zanaddress=e("e894"))}}},Ct=wt,bt=(e("1d4c"),Object(p["a"])(Ct,yt,_t,!1,null,"335f1b10",null)),kt=bt.exports,xt={data:function(){return{songListId:this.$route.query.id,songdata:null,showhidden:!1,playdata:null,audiencecount:this.$route.query.audiencecount,checkenter:!0}},components:{LikeCount:kt},computed:{creator:function(){return this.songdata.creator},comments:function(){return this.playdata.comments},hotcomments:function(){return this.playdata.hotComments},checkover:function(){return this.songdata.description.length>30}},methods:{getSonglist:function(){var t=this;this.axios.get("/playlist/detail",{params:{id:this.songListId}}).then((function(s){t.songdata=s.data.playlist,window.localStorage.setItem("sl-"+t.songListId,JSON.stringify({val:t.songdata,time:Date.now()+72e5}))})).catch((function(t){console.log(t)}))},getPlaylist:function(){var t=this;this.axios.get("/comment/playlist",{params:{id:this.songListId}}).then((function(s){t.playdata=s.data,window.localStorage.setItem("pl-"+t.songListId,JSON.stringify({val:t.playdata,time:Date.now()+216e5}))})).catch((function(t){console.log(t)}))},checklocal:function(){var t=JSON.parse(window.localStorage.getItem("sl-"+this.songListId)),s=JSON.parse(window.localStorage.getItem("pl-"+this.songListId));t&&t.time>Date.now()?this.songdata=t.val:this.getSonglist(),s&&s.time>Date.now()?this.playdata=s.val:this.getPlaylist()},counttime:function(t){var s=new Date(t),e=s.getFullYear(),i=s.getMonth(),a=s.getDay();return"".concat(e,"年").concat(i,"月").concat(a,"日")}},created:function(){var t=this;this.checkenter=!0,this.checklocal(),setTimeout((function(){t.checkenter=!1}),2e3)},beforeRouteEnter:function(t,s,e){e((function(s){s.checkenter=!0,s.songListId=t.query.id,setTimeout((function(){s.checkenter=!1}),2e3)}))},beforeRouteUpdate:function(t,s,e){this.songListId=t.query.id,e()},watch:{songListId:function(){this.checklocal()}}},St=xt,Pt=(e("c908"),Object(p["a"])(St,pt,vt,!1,null,"57946d7f",null)),Lt=Pt.exports;i["a"].use(L["a"]);var $t=[{path:"/",name:"Home",component:it},{path:"/hot",name:"Hot",component:lt},{path:"/search",name:"Search",component:mt},{path:"/playlist",name:"Playlist",component:Lt}],Ot=new L["a"]({routes:$t}),It=Ot;i["a"].config.productionTip=!1,new i["a"]({router:It,render:function(t){return t(P)}}).$mount("#app")},"5f61":function(t,s,e){},6369:function(t,s,e){t.exports=e.p+"img/download.28f9e955.svg"},"643c":function(t,s,e){},6588:function(t,s,e){},"6aed":function(t,s,e){t.exports=e.p+"img/randomplay.64e7e932.svg"},"76e0":function(t,s,e){t.exports=e.p+"img/history.bf9708ff.svg"},7885:function(t,s,e){t.exports=e.p+"img/musicmenu.6aa8f0ad.svg"},"7c55":function(t,s,e){"use strict";var i=e("2395"),a=e.n(i);a.a},"803f":function(t,s,e){t.exports=e.p+"img/playing.89cabd24.svg"},"872b":function(t,s,e){t.exports=e.p+"img/loopplay1.f542e972.svg"},"8a60":function(t,s,e){"use strict";var i=e("14d7"),a=e.n(i);a.a},"8d91":function(t,s,e){},9103:function(t,s,e){t.exports=e.p+"img/heart_1.6e60aefd.svg"},"98af":function(t,s,e){t.exports=e.p+"img/randomplay1.408afa59.svg"},"9ad7":function(t,s,e){t.exports=e.p+"img/delete1.214ecd4f.svg"},"9cbf":function(t,s,e){t.exports=e.p+"img/zan2.6b03df70.svg"},af76:function(t,s,e){t.exports=e.p+"img/details.04a0db9a.svg"},c1ed:function(t,s,e){"use strict";var i=e("4ee0"),a=e.n(i);a.a},c637:function(t,s,e){t.exports=e.p+"img/trash.ccf104c6.svg"},c779:function(t,s,e){"use strict";var i=e("f72b"),a=e.n(i);a.a},c908:function(t,s,e){"use strict";var i=e("1913"),a=e.n(i);a.a},ca1e:function(t,s,e){t.exports=e.p+"img/load.58c48140.gif"},cb8c:function(t,s,e){},ce20:function(t,s,e){"use strict";var i=e("6588"),a=e.n(i);a.a},d328:function(t,s,e){},d4c7:function(t,s,e){t.exports=e.p+"img/singlecycle1.90c04318.svg"},d739:function(t,s,e){t.exports=e.p+"img/delete.1aca8cbb.svg"},de16:function(t,s,e){"use strict";var i=e("8d91"),a=e.n(i);a.a},e894:function(t,s,e){t.exports=e.p+"img/zan1.e4be7bfe.svg"},ebc4:function(t,s,e){t.exports=e.p+"img/search2.b306dfcf.svg"},ee6b:function(t,s,e){t.exports=e.p+"img/bell.f35b295b.svg"},f675:function(t,s,e){t.exports=e.p+"img/singlecycle.33014758.svg"},f72b:function(t,s,e){},f7e7:function(t,s,e){t.exports=e.p+"img/comments.733ff978.svg"},fbe8:function(t,s,e){t.exports=e.p+"img/heart.a3a658bc.svg"},fc40:function(t,s,e){t.exports=e.p+"img/prevplay.e1e5f862.svg"},ffe1:function(t,s,e){"use strict";var i=e("5f61"),a=e.n(i);a.a}});
//# sourceMappingURL=app.4ac5a0b7.js.map